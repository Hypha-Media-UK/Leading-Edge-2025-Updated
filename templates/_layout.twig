<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}The Leading Edge{% endblock %}</title>
    <meta name="description" content="{% block description %}Premium hair and beauty services at The Leading Edge salon in Hyde, Cheshire.{% endblock %}">
    
    <!-- Modern Meta Tags -->
    <meta name="theme-color" content="#c58f31">
    <meta name="color-scheme" content="light">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Performance Optimizations -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    
    <!-- Critical CSS removed - now handled in proper CSS files -->
    {% block criticalCss %}{% endblock %}
    
    <!-- Preload critical fonts -->
    <link rel="preload" href="https://fonts.gstatic.com/s/montserrat/v25/JTUSjIg1_i6t8kCHKm459Wlhyw.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="https://fonts.gstatic.com/s/playfairdisplay/v30/nuFvD-vYSZviVYUb_rj3ij__anPXJzDwcbmjWBN2PKdFvXDXbtXK-F2qO0isEw.woff2" as="font" type="font/woff2" crossorigin>
    
    <!-- Optimized font loading with font-display -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome with optimized loading -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"></noscript>
    
    <!-- Main CSS - Load synchronously for critical pages, async for others -->
    {% if craft.app.request.segments|first in ['', 'home', 'services', 'contact'] %}
      <!-- Critical pages: Load CSS synchronously to prevent FOUC -->
      <link rel="stylesheet" href="/_dist/css/styles.css">
    {% else %}
      <!-- Non-critical pages: Load CSS asynchronously for performance -->
      <link rel="preload" href="/_dist/css/styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
      <noscript><link rel="stylesheet" href="/_dist/css/styles.css"></noscript>
    {% endif %}
    
    <!-- View Transitions API -->
    <meta name="view-transition" content="same-origin">
    
    {% block headExtras %}{% endblock %}
</head>
<body class="{% block pageClass %}home{% endblock %}-page" data-page="{{ craft.app.request.segments|join('-') }}">

<!-- Header -->
{% include '_components/header.twig' %}

<!-- Main Content -->
<main>
    {% block content %}{% endblock %}
</main>

<!-- Footer -->
{% include '_components/footer.twig' %}

<!-- JavaScript - Single optimized bundle -->
<script type="module" src="/_dist/js/app.js"></script>

</body>
</html>
