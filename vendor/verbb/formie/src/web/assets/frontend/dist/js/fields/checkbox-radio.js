!function(){"use strict";const e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t||(t=Math.random().toString(36).substr(2,5)),`${e}.${t}`};window.FormieCheckboxRadio=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$form=e.$form,this.form=this.$form.form,this.$field=e.$field,this.$field&&(this.initInputs(),this.initRequiredCheckboxes(),this.initToggleCheckboxes())}initInputs(){const t=this.$field.querySelectorAll("[type=checkbox], [type=radio]"),i=this.$field.hasAttribute("data-max-options");t.forEach((t=>{this.form.addEventListener(t,e("click"),(e=>{const t="checkbox"===e.target.type;if(e.target.checked&&"radio"===e.target.type){const t=e.target.getAttribute("name");this.$field.querySelectorAll(`[name="${t}"]`).forEach((e=>{e.removeAttribute("checked")}))}e.target.checked?e.target.setAttribute("checked",""):e.target.removeAttribute("checked"),t&&i&&this.enforceMaxOptions()}),!1)})),i&&this.enforceMaxOptions()}initRequiredCheckboxes(){const t=this.$field.querySelectorAll('[type="checkbox"][required]');t.forEach((i=>{this.form.addEventListener(i,e("change"),(e=>{this.onCheckboxChanged(t,this.isChecked(t))}),!1),i.checked&&i.dispatchEvent(new Event("change",{bubbles:!0}))}))}initToggleCheckboxes(){const t=this.$field.querySelectorAll('[type="checkbox"]');this.$field.querySelectorAll('[type="checkbox"][data-checkbox-toggle]').forEach((i=>{this.form.addEventListener(i,e("change"),(e=>{const i=e.target.checked;t.forEach((t=>{t!==e.target&&(t.checked=i)}))}),!1)}))}isChecked(e){for(let t=0;t<e.length;t++)if(e[t].checked)return!0;return!1}onCheckboxChanged(e,t){e.forEach((e=>{t?(e.removeAttribute("required"),e.setAttribute("aria-required",!1)):(e.setAttribute("required",!0),e.setAttribute("aria-required",!0))}))}enforceMaxOptions(){const e=this.$field.querySelectorAll('[type="checkbox"]:not([data-checkbox-toggle])'),t=parseInt(this.$field.getAttribute("data-max-options"),10),i=Array.from(e).filter((e=>e.checked)).length>=t;e.forEach((e=>{e.checked?e.disabled=!1:e.disabled=i}))}}}();